# PRD: 한자 올림픽 (Hanja Olympics)

## 1. 개요

준5급 한자를 재미있게 암기할 수 있는 올림픽 테마 웹 게임 플랫폼.
여러 종목(게임)을 통해 한자의 훈(뜻)과 음(읽기)을 반복 학습하고,
개인별 가입 후 리더보드에서 경쟁한다.

---

## 2. 한자 데이터 (이미지 기반 추출)

### 2.1 준5급 배정한자 (50자)

| 구분 | 한자 |
|------|------|
| 숫자 | 一二三四五六七八九十百千萬 |
| 자연 | 日月火水木金土山川 |
| 크기/방향 | 大小中上下左右 |
| 사람 | 人女子王兄弟 |
| 개념 | 玉白天地正出生年名門文字休足向 |

### 2.2 추가 학습 한자 (이미지에서 확인된 한자)

| 구분 | 한자 |
|------|------|
| 가족 | 父母男 |
| 방위 | 東西南北 |
| 자연 | 江林石草 |
| 동물 | 馬牛魚羊 |
| 신체 | 口目耳手足心 |
| 생활 | 國市車食衣光 |
| 기타 | 古今太少力本方外世合先立長靑不 |
| 계절 | 春夏秋冬 |

### 2.3 반의어 쌍 (이미지 2에서 추출)

| 쌍 | 반의어 |
|----|--------|
| 방향 | 上↔下, 左↔右, 東↔西, 南↔北 |
| 크기 | 大↔小 |
| 자연 | 天↔地, 山↔川, 火↔水 |
| 사람 | 父↔母, 兄↔弟, 男↔女 |
| 시간 | 古↔今, 春↔秋, 夏↔冬 |
| 위치 | 出↔入, 外↔中 |

### 2.4 사자성어 (이미지 3에서 추출)

| 사자성어 | 한자 | 뜻 |
|----------|------|-----|
| 산천초목 | 山川草木 | 산과 내와 풀과 나무, 자연 |
| 동서남북 | 東西南北 | 모든 방향 |
| 춘하추동 | 春夏秋冬 | 사계절 |
| 상하좌우 | 上下左右 | 위아래와 좌우 |
| 명산대천 | 名山大川 | 이름난 산과 큰 내 |

---

## 3. 올림픽 종목 (게임 모드)

### 3.1 양궁 (Archery) - 훈음 맞추기

- **설명**: 한자를 보고 올바른 훈음을 4지선다에서 선택
- **규칙**: 10문제, 정답 시 과녁 적중 애니메이션
- **점수**: 정답 수 (최대 10점)
- **메달 기준**: 금 ≥ 9, 은 ≥ 7, 동 ≥ 5

### 3.2 수영 (Swimming) - 스피드 레이스

- **설명**: 60초 내 최대한 많은 문제를 풀기
- **규칙**: 훈음을 보고 올바른 한자를 선택, 타이머 카운트다운
- **점수**: 정답 수
- **메달 기준**: 금 ≥ 20, 은 ≥ 15, 동 ≥ 10

### 3.3 역도 (Weightlifting) - 연속 정답 도전

- **설명**: 연속으로 정답을 맞히면 무게가 올라감
- **규칙**: 한자↔훈음 매칭, 틀리면 즉시 종료
- **점수**: 연속 정답 수 (스트릭)
- **메달 기준**: 금 ≥ 15, 은 ≥ 10, 동 ≥ 5

### 3.4 체조 (Gymnastics) - 카드 매칭

- **설명**: 뒤집힌 카드를 짝 맞추는 기억력 게임
- **규칙**: 한자 카드와 훈음 카드를 매칭, 8쌍(16장)
- **점수**: 시도 횟수 (적을수록 높은 점수)
- **메달 기준**: 금 ≤ 12회, 은 ≤ 16회, 동 ≤ 20회

### 3.5 마라톤 (Marathon) - 전체 도전

- **설명**: 전체 한자를 순서대로 모두 풀기
- **규칙**: 시간 제한 없음, 전체 정확도 추적
- **점수**: 정답률 (%)
- **메달 기준**: 금 ≥ 90%, 은 ≥ 70%, 동 ≥ 50%

---

## 4. 사용자 시스템

### 4.1 회원가입/로그인

- 닉네임 + 비밀번호 (4자리 이상)
- localStorage 기반 저장
- 프로필 아이콘 선택 (국기 이모지)

### 4.2 개인 프로필

- 총 메달 수 (금/은/동)
- 종목별 최고 기록
- 최근 플레이 기록
- 학습 진도율

### 4.3 리더보드

- **종합 순위**: 총 메달 포인트 (금=3, 은=2, 동=1)
- **종목별 순위**: 각 게임의 최고 점수 순
- 순위 변동 표시

---

## 5. UI/UX 디자인

### 5.1 테마

- 올림픽 컬러: 파랑(#0081C8), 노랑(#FCB131), 검정(#000), 초록(#00A651), 빨강(#EE334E)
- 배경: 밝은 파치먼트 색 (#F5F5F0)
- 한자 표시: 큰 서체, 붓글씨 느낌
- 메달/트로피 애니메이션

### 5.2 화면 구성

```
스플래시 → 로그인/가입 → 메인 허브(올림픽 빌리지)
                              ├── 종목 선택 (5개 게임)
                              ├── 리더보드
                              ├── 내 프로필
                              └── 학습 모드 (플래시카드)
```

### 5.3 반응형 디자인 (모든 해상도 지원)

#### 5.3.1 디자인 철학
- **모바일 우선 (Mobile First)**: 기본 레이아웃은 모바일 최적화
- **점진적 향상 (Progressive Enhancement)**: 화면이 커질수록 더 많은 정보와 기능 표시
- **터치/마우스 겸용**: 모든 인터랙션이 터치와 마우스 모두에서 작동

#### 5.3.2 브레이크포인트 (Breakpoints)

| 디바이스 | 해상도 범위 | 레이아웃 특징 |
|----------|------------|--------------|
| **모바일 (S)** | 320px ~ 479px | 단일 컬럼, 최소 UI |
| **모바일 (M)** | 480px ~ 767px | 단일 컬럼, 확장 UI |
| **태블릿 (Portrait)** | 768px ~ 1023px | 2단 그리드, 사이드바 |
| **태블릿 (Landscape) / 데스크톱 (S)** | 1024px ~ 1279px | 2~3단 그리드, 메뉴바 |
| **데스크톱 (M)** | 1280px ~ 1919px | 3단 그리드, 전체 UI |
| **데스크톱 (L)** | 1920px ~ | 최대 폭 고정 + 중앙 정렬 |

#### 5.3.3 화면별 레이아웃 조정

##### 메인 허브 (올림픽 빌리지)
- **모바일**:
  - 종목 카드를 세로 스크롤로 배치 (1열)
  - 네비게이션을 하단 고정 탭바로 표시
  - 프로필/리더보드는 햄버거 메뉴에 숨김

- **태블릿**:
  - 종목 카드를 2열 그리드로 배치
  - 상단에 네비게이션 바 표시
  - 우측에 미니 리더보드 사이드바 추가

- **데스크톱**:
  - 종목 카드를 3열 그리드로 배치
  - 좌측 사이드바에 프로필 정보
  - 우측 사이드바에 실시간 리더보드
  - 상단에 전체 메뉴 네비게이션

##### 게임 화면 (3D 종목들)
- **모바일**:
  - 게임 뷰포트 전체 화면 (100vh)
  - UI 컨트롤을 화면 하단에 배치
  - 뒤로가기 버튼 좌측 상단 고정
  - 답안 버튼 2x2 그리드 (하단 고정)

- **태블릿**:
  - 게임 뷰포트 중앙 (80~90vh)
  - UI 컨트롤을 양 옆으로 분산 배치
  - 상단에 진행 상황 바 추가
  - 답안 버튼 1x4 또는 2x2 그리드 선택 가능

- **데스크톱**:
  - 게임 뷰포트 중앙 (16:9 비율 고정)
  - 좌측에 게임 설명 패널
  - 우측에 통계/힌트 패널
  - 답안 버튼 키보드 단축키(1~4) 힌트 표시
  - 마우스 호버 시 추가 정보 툴팁

##### 리더보드
- **모바일**:
  - 탭 전환으로 종목별 순위 표시 (1개씩)
  - 세로 스크롤 리스트
  - 상위 10명만 표시, "더보기" 버튼

- **태블릿**:
  - 좌측 탭, 우측 순위 리스트 (split view)
  - 상위 20명 표시
  - 내 순위 항상 상단 고정

- **데스크톱**:
  - 좌측 사이드바에 종목 선택
  - 중앙에 메인 리더보드 (상위 50명)
  - 우측에 통계 차트 및 메달 순위
  - 테이블 형식으로 더 많은 정보 표시

##### 프로필 화면
- **모바일**:
  - 세로 스크롤 단일 컬럼
  - 프로필 → 메달 → 최고 기록 → 최근 플레이

- **태블릿**:
  - 상단: 프로필 카드 (가로 레이아웃)
  - 하단: 2열 그리드 (메달/기록 | 최근 플레이)

- **데스크톱**:
  - 좌측 컬럼: 프로필 + 메달
  - 중앙 컬럼: 종목별 최고 기록 차트
  - 우측 컬럼: 최근 플레이 타임라인

#### 5.3.4 인터랙션 요소 조정

##### 버튼 크기
- **모바일**: 최소 44x44px (터치 타겟)
- **태블릿**: 40x40px (터치/마우스 겸용)
- **데스크톱**: 36x36px (마우스 기준, 호버 시 확대)

##### 폰트 크기
```css
/* 모바일 */
--font-size-xs: 12px;
--font-size-sm: 14px;
--font-size-base: 16px;
--font-size-lg: 20px;
--font-size-xl: 28px;
--font-size-hanja: 48px;

/* 태블릿 */
--font-size-xs: 13px;
--font-size-sm: 15px;
--font-size-base: 17px;
--font-size-lg: 22px;
--font-size-xl: 32px;
--font-size-hanja: 56px;

/* 데스크톱 */
--font-size-xs: 14px;
--font-size-sm: 16px;
--font-size-base: 18px;
--font-size-lg: 24px;
--font-size-xl: 36px;
--font-size-hanja: 64px;
```

##### 간격 (Spacing)
- **모바일**: padding 12px, margin 8px
- **태블릿**: padding 16px, margin 12px
- **데스크톱**: padding 24px, margin 16px

#### 5.3.5 3D 게임 뷰포트 최적화

##### 모바일 (세로 모드)
- 카메라 FOV: 60도
- 화면 비율: 9:16 (세로)
- 렌더링 해상도: window.devicePixelRatio 제한 (최대 2)

##### 태블릿 (가로 모드)
- 카메라 FOV: 50도
- 화면 비율: 4:3 또는 16:10
- 렌더링 해상도: full devicePixelRatio

##### 데스크톱
- 카메라 FOV: 45도
- 화면 비율: 16:9 고정
- 렌더링 해상도: full devicePixelRatio
- 안티앨리어싱 강화

#### 5.3.6 성능 고려사항

- **모바일**: 파티클 효과 감소 (50%), 그림자 단순화
- **태블릿**: 표준 렌더링
- **데스크톱**: 고품질 렌더링, 추가 효과 활성화

#### 5.3.7 화면 방향 처리 (Orientation)

##### 세로 모드 (Portrait)
- **모바일**: 기본 레이아웃, 세로 스크롤 중심
- **태블릿**: 좁은 사이드바, 메인 컨텐츠 중심
- **권장 종목**: 모든 게임 플레이 가능

##### 가로 모드 (Landscape)
- **모바일**:
  - 게임 화면: 전체 화면 활용, 답안 버튼 1x4 가로 배치
  - 메뉴 화면: 2열 그리드로 전환
  - 경고: "가로 모드에서 최적의 경험을 제공합니다" (일부 게임)

- **태블릿**:
  - 데스크톱과 유사한 레이아웃 (좌/우 사이드바)
  - 3D 게임 뷰포트 16:9 비율 유지

- **권장 종목**: 3D 게임은 가로 모드 권장 (수영, 체조, 마라톤)

##### 방향 전환 감지
```javascript
window.addEventListener('orientationchange', () => {
  const isLandscape = window.matchMedia('(orientation: landscape)').matches;
  // 레이아웃 재조정
  adjustLayoutForOrientation(isLandscape);
});
```

#### 5.3.8 접근성 (Accessibility)

- 모든 해상도에서 최소 명암비 4.5:1 유지 (WCAG AA)
- 키보드 네비게이션 지원 (Tab, Enter, Space, 방향키, 1~4)
- 스크린 리더 호환 (ARIA labels, role 속성)
- 확대/축소 지원 (최대 200%)
- 색맹 모드 옵션 (설정에서 토글)
- 애니메이션 감소 모드 (prefers-reduced-motion 준수)
- 포커스 인디케이터 명확히 표시 (키보드 사용자용)

---

## 6. 기술 스택

| 항목 | 선택 |
|------|------|
| 프론트엔드 | 단일 HTML 파일 (Vanilla JS + CSS) |
| 데이터 저장 | localStorage |
| 배포 | 정적 파일 (브라우저에서 바로 실행) |
| 외부 의존성 | 없음 (완전 독립 실행) |

---

## 7. 보너스 기능

- 학습 모드: 플래시카드로 한자 복습
- 오답 노트: 틀린 문제 자동 저장 및 재학습
- 일일 도전: 매일 랜덤 10문제 (연속 출석 추적)
- 사운드 효과: 정답/오답/메달 획득 시 효과음

---

## 8. 반응형 레이아웃 예시

### 8.1 메인 허브 레이아웃

#### 모바일 (320px ~ 767px)
```
┌─────────────────────┐
│  [≡] 한자 올림픽   │ ← 헤더 (햄버거 메뉴)
├─────────────────────┤
│                     │
│  [🏹 양궁]         │ ← 종목 카드 (1열)
│  현재 기록: 8점    │
│                     │
├─────────────────────┤
│  [🏊 수영]         │
│  현재 기록: 15점   │
├─────────────────────┤
│  [🏋️ 역도]         │
│  현재 기록: 7연속  │
├─────────────────────┤
│  [...스크롤...]     │
│                     │
└─────────────────────┘
│ [🏠][📊][👤][⚙️] │ ← 하단 네비게이션
└─────────────────────┘
```

#### 태블릿 (768px ~ 1023px)
```
┌───────────────────────────────────┐
│ 한자올림픽  [홈][순위][프로필]   │ ← 상단 네비게이션
├──────────────────────┬────────────┤
│  [🏹 양궁] 8점       │            │
│  [🏊 수영] 15점      │ 📊 리더보드 │ ← 2열 + 사이드바
│                      │            │
│  [🏋️ 역도] 7연속    │ 1. 홍길동   │
│  [🤸 체조] 16회      │ 2. 김철수   │
│                      │ 3. 이영희   │
│  [🏃 마라톤] 85%    │ ...         │
│                      │            │
└──────────────────────┴────────────┘
```

#### 데스크톱 (1280px ~)
```
┌─────────┬───────────────────────────────┬─────────┐
│         │ 한자 올림픽                   │         │
│ 👤프로필│ [홈][순위][학습][설정]        │📊순위   │
├─────────┼───────────────────────────────┼─────────┤
│         │  [🏹양궁]  [🏊수영]  [🏋️역도]│ 실시간  │
│ 닉네임  │   8점      15점      7연속   │ 리더보드│
│ 🥇3 🥈5│                               │         │ ← 3단 레이아웃
│ 🥉2     │  [🤸체조]  [🏃마라톤]         │ 1.홍길동│
│         │   16회      85%              │ 2.김철수│
│ 학습률  │                               │ 3.이영희│
│ ████░ 80%│ 최근 플레이 기록:             │ 4.박민수│
│         │ • 수영 +5점 (1분 전)          │ 5.최지원│
│ 연속출석│ • 양궁 메달 획득! (5분 전)    │ ...     │
│ 🔥 7일  │                               │         │
└─────────┴───────────────────────────────┴─────────┘
```

### 8.2 게임 화면 레이아웃

#### 모바일
```
┌─────────────────────┐
│ [←] 수영   60s   15점│ ← 상단 UI
├─────────────────────┤
│                     │
│    3D 게임 뷰       │ ← 전체 화면
│                     │
│    훈음: 물 수      │
│                     │
├─────────────────────┤
│ [水][木][火][土]   │ ← 답안 (2x2)
│ [川][山][日][月]   │
└─────────────────────┘
```

#### 데스크톱
```
┌─────────┬───────────────────────────┬─────────┐
│ 🏊 수영 │  60초   1위   15점        │  [←]닫기│
├─────────┼───────────────────────────┼─────────┤
│게임설명 │                           │ 💡 힌트 │
│         │      3D 게임 뷰           │         │
│60초 안에│                           │ 물 수   │
│최대한   │   훈음: 물 수             │ = 水    │
│많이!    │                           │         │
│         │                           │ 통계:   │
│         │                           │ 정답 15 │
├─────────┤   [水¹] [木²] [火³] [土⁴] │ 오답 3  │
│키보드:  │                           │ 정확도  │
│1,2,3,4  │   답안 선택 (1x4)        │ 83%     │
└─────────┴───────────────────────────┴─────────┘
```

---

## 9. 반응형 구현 가이드

### 8.1 CSS 미디어 쿼리 구조

```css
/* 기본 스타일 (모바일 우선) */
.container { ... }

/* 태블릿 (Portrait) */
@media (min-width: 768px) { ... }

/* 태블릿 (Landscape) / 데스크톱 (S) */
@media (min-width: 1024px) { ... }

/* 데스크톱 (M) */
@media (min-width: 1280px) { ... }

/* 데스크톱 (L) - 최대 폭 제한 */
@media (min-width: 1920px) {
  .container { max-width: 1600px; margin: 0 auto; }
}
```

### 8.2 뷰포트 메타 태그

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
```

### 8.3 반응형 이미지/아이콘

- SVG 우선 사용 (확대/축소에도 선명)
- 비트맵 이미지는 2x, 3x 버전 제공 (srcset)
- 이모지는 OS 기본 렌더링 활용

### 8.4 Three.js 렌더러 리사이징

```javascript
window.addEventListener('resize', () => {
  const w = window.innerWidth;
  const h = window.innerHeight;
  renderer.setSize(w, h);
  camera.aspect = w / h;
  camera.updateProjectionMatrix();
});
```

### 8.5 테스트 해상도 체크리스트

- [ ] iPhone SE (375x667)
- [ ] iPhone 12 Pro (390x844)
- [ ] iPad (768x1024)
- [ ] iPad Pro (1024x1366)
- [ ] 노트북 (1366x768)
- [ ] 데스크톱 (1920x1080)
- [ ] 와이드 모니터 (2560x1440)

---

## 9. 구현 우선순위

1. **Phase 1**: 한자 데이터 + 반응형 기본 UI + 로그인 시스템
2. **Phase 2**: 5개 게임 모드 구현 (모바일 우선)
3. **Phase 3**: 태블릿/데스크톱 레이아웃 확장
4. **Phase 4**: 리더보드 + 메달 시스템 (반응형)
5. **Phase 5**: 학습 모드 + 오답 노트
6. **Phase 6**: 애니메이션 + 사운드 + 폴리싱
7. **Phase 7**: 크로스 브라우저 테스트 및 성능 최적화
